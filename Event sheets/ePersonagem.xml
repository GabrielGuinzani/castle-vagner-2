<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>ePersonagem</name>
    <events>
        <event-block sid="195429005098103">
            <conditions>
                <condition id="-1" name="Every tick" sid="553919725816395" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Sort all Objects in layer by Y" sid="426348086706361" type="ZSorter">
                    <param id="0" name="Layer">&quot;Game&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="808551727288282">
            <conditions>
                <condition id="-2" name="On start of layout" sid="691492120923111" type="System" />
            </conditions>
            <actions>
                <action id="2" name="Set at X" sid="576643968277460" type="ataquesHeroi">
                    <param id="0" name="X">1</param>
                    <param id="1" name="Value">2</param>
                </action>
                <action id="2" name="Set at X" sid="939424296918516" type="ataquesHeroi">
                    <param id="0" name="X">2</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="2" name="Set at X" sid="916686323940450" type="ataquesHeroi">
                    <param id="0" name="X">3</param>
                    <param id="1" name="Value">2</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="304013467860318" title="HUD">
            <sub-events>
                <event-block sid="615715910440221">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="884823122057661" type="Heroi">
                            <param id="0" name="Instance variable">vida</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-1" name="Every tick" sid="250403252240573" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="271221769570876" type="Heroi">
                            <param id="0" name="Instance variable">vida</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="483299485282269" type="healthBar">
                            <param id="0" name="Width">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="956363900966909" type="healthBarBehind">
                            <param id="0" name="Width">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="166925882105522">
                    <conditions>
                        <condition id="0" name="On function" sid="814963869664113" type="Function">
                            <param id="0" name="Name">&quot;dano&quot;</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="631695828721244" type="Heroi">
                            <param id="0" name="Instance variable">vida</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="302691605565183" type="Heroi">
                            <param id="0" name="Instance variable">vida</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-5" name="Set width" sid="481087769148746" type="healthBar">
                            <param id="0" name="Width">Heroi.vida</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="242116539203600">
                    <conditions>
                        <condition id="0" name="On function" sid="534129845495265" type="Function">
                            <param id="0" name="Name">&quot;cast&quot;</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="879830197508057" type="Heroi">
                            <param id="0" name="Instance variable">mana</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="290579124550435" type="Heroi">
                            <param id="0" name="Instance variable">mana</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-5" name="Set width" sid="276604976279671" type="manaBar">
                            <param id="0" name="Width">Heroi.mana</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="950440436956354">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="397548371974024" type="Heroi">
                            <param id="0" name="Instance variable">mana</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-1" name="Every tick" sid="656095054266393" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="903667761678051" type="Heroi">
                            <param id="0" name="Instance variable">mana</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="225253252212788" type="manaBar">
                            <param id="0" name="Width">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="718363885087772" type="manaBarBehind">
                            <param id="0" name="Width">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="545877081001674">
                    <conditions>
                        <condition id="-21" name="Is between values" sid="396269539344258" type="System">
                            <param id="0" name="Value">healthBarBehind.Width</param>
                            <param id="1" name="Lower bound">Heroi.vida - 2</param>
                            <param id="2" name="Upper bound">Heroi.vida + 2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="247061895591413" type="healthBarBehind">
                            <param id="0" name="Width">Heroi.vida</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="460080637829326">
                    <conditions>
                        <condition id="-22" name="Else" sid="375080606570026" type="System" />
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="437869514921710" type="healthBarBehind">
                            <param id="0" name="Width">lerp(healthBarBehind.Width,Heroi.vida,0.2)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="212552141803871">
                    <conditions>
                        <condition id="-21" name="Is between values" sid="541319639221244" type="System">
                            <param id="0" name="Value">manaBarBehind.Width</param>
                            <param id="1" name="Lower bound">Heroi.mana - 2</param>
                            <param id="2" name="Upper bound">Heroi.mana + 2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="628385473675453" type="manaBarBehind">
                            <param id="0" name="Width">Heroi.mana</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="767270617655733">
                    <conditions>
                        <condition id="-22" name="Else" sid="477431489695480" type="System" />
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="379278304773277" type="manaBarBehind">
                            <param id="0" name="Width">lerp(manaBarBehind.Width,Heroi.mana,0.2)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="386745564891315" title="Controlador Animações" />
        <event-block sid="898995710301171">
            <conditions>
                <condition id="-1" name="Every tick" sid="465934439372599" type="System" />
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="250062360708556" type="Heroi">
                    <param id="0" name="Animation">Heroi.estado</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="116196128645702">
            <conditions>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="156057716368139" type="Heroi">
                    <param id="0" name="Instance variable">atacando</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="541199868270162" type="Heroi">
                    <param id="0" name="Instance variable">estado</param>
                    <param id="1" name="Comparison">1</param>
                    <param id="2" name="Value">&quot;Dead&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="352753296906343">
                    <conditions>
                        <condition behavior="8Direction" id="0" name="Is moving" sid="864317313816528" type="Heroi" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="512305427898818" type="Heroi">
                            <param id="0" name="Instance variable">estado</param>
                            <param id="1" name="Value">&quot;Walk&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="539501700871776">
                    <conditions>
                        <condition id="-22" name="Else" sid="679077064442300" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="482253491939158" type="Heroi">
                            <param id="0" name="Instance variable">estado</param>
                            <param id="1" name="Value">&quot;Idle&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="696662991706993" title="Input Teclado">
            <sub-events>
                <event-group description="" sid="671421068393010" title="Ataques">
                    <sub-events>
                        <event-block sid="895379366526838">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="908531786208422" type="Keyboard">
                                    <param id="0" name="Key">90</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="735655674789349">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="266205709533449" type="Heroi">
                                            <param id="0" name="Instance variable">atacando</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="536234234511548">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="654852408246379" type="Heroi">
                                                    <param id="0" name="Instance variable">noAr</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                        <event-block sid="781349467624235">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="812268288863056" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="414675057277574" type="Heroi">
                                                    <param id="0" name="Instance variable">atacando</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="744583245201490" type="Heroi">
                                                    <param id="0" name="Instance variable">estado</param>
                                                    <param id="1" name="Value">&quot;Attack&quot; &amp; Heroi.combo</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="338930916463427">
                                            <conditions />
                                            <actions>
                                                <action id="4" name="Set animation" sid="170982871075962" type="Heroi_hitbox">
                                                    <param id="0" name="Animation">Heroi.estado</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="-3" name="Create object" sid="247503505324563" type="System">
                                                    <param id="0" name="Object to create">Heroi_hitbox</param>
                                                    <param id="1" name="Layer">Heroi.LayerName</param>
                                                    <param id="2" name="X">Heroi.X</param>
                                                    <param id="3" name="Y">Heroi.Y</param>
                                                </action>
                                                <action behavior="Pin" id="0" name="Pin to object" sid="104376583345896" type="Heroi_hitbox">
                                                    <param id="0" name="Pin to">Heroi</param>
                                                    <param id="1" name="Mode">0</param>
                                                </action>
                                                <action id="-16" name="Wait" sid="547039229217106" type="System">
                                                    <param id="0" name="Seconds">0</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="414352149175481">
                                                    <conditions>
                                                        <condition id="7" name="Is mirrored" sid="205459313232375" type="Heroi" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="7" name="Set mirrored" sid="362156827120699" type="Heroi_hitbox">
                                                            <param id="0" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="285480641763543">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="513186305157995" type="Heroi">
                                    <param id="0" name="Instance variable">atacando</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="329880351016664">
                                    <conditions>
                                        <condition id="5" name="On any finished" sid="183711753733159" type="Heroi" />
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="416930913162463" type="Heroi">
                                            <param id="0" name="Instance variable">atacando</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="697675821365402" type="Heroi">
                                            <param id="0" name="Instance variable">combo_timer</param>
                                            <param id="1" name="Value">0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="563522582521167">
                                    <conditions>
                                        <condition id="3" name="Compare frame" sid="224391851782912" type="Heroi_hitbox">
                                            <param id="0" name="Comparison">0</param>
                                            <param id="1" name="Number">ataquesHeroi.At(int(right(Heroi_hitbox.AnimationName,1)))</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="11" name="Set collisions enabled" sid="892956692634915" type="Heroi_hitbox">
                                            <param id="0" name="Collisions">1</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="785569307395172" type="System">
                                            <param id="0" name="Seconds">0.3</param>
                                        </action>
                                        <action id="11" name="Set collisions enabled" sid="423755632512377" type="Heroi_hitbox">
                                            <param id="0" name="Collisions">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="729144595470474">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="820773481274198" type="Heroi">
                                    <param id="0" name="Instance variable">combo_timer</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="921433635173832" type="Heroi">
                                    <param id="0" name="Instance variable">combo_timer</param>
                                    <param id="1" name="Value">dt</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="829377400505194">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="885325099448904" type="Heroi">
                                            <param id="0" name="Instance variable">combo_timer</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="626721887309623" type="Heroi">
                                            <param id="0" name="Instance variable">combo_timer</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="269337689995099" type="Heroi">
                                            <param id="0" name="Instance variable">combo</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="255389167486725">
                            <conditions>
                                <condition id="5" name="On any finished" sid="694844846414369" type="Heroi_hitbox" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="102357723324405" type="Heroi_hitbox" />
                            </actions>
                            <sub-events>
                                <event-block sid="337604588218601">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="399943294748838" type="Heroi">
                                            <param id="0" name="Instance variable">acerto</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="191718616570729" type="Heroi">
                                            <param id="0" name="Instance variable">acerto</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="539623837334553">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="120055191783949" type="Heroi">
                                                    <param id="0" name="Instance variable">combo</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">Heroi.combo_maximo</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="739709280607609" type="Heroi">
                                                    <param id="0" name="Instance variable">combo</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="389360528304851">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="343568144944436" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="469494965918244" type="Heroi">
                                                    <param id="0" name="Instance variable">combo</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="258635709659355" title="Caminhando">
                    <sub-events>
                        <event-block sid="366210647120386">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="120736229668208" type="Heroi">
                                    <param id="0" name="Instance variable">atacando</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="414818543458735" type="Heroi">
                                    <param id="0" name="Instance variable">estado</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;Dead&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="285560373651509">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="148411681767985" type="Keyboard">
                                            <param id="0" name="Key">39</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="382324322636668" type="Heroi">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                        <action id="7" name="Set mirrored" sid="662797291766651" type="Heroi">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="655123011012814">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="562957427002163" type="Keyboard">
                                            <param id="0" name="Key">37</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="330137260187624" type="Heroi">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                        <action id="7" name="Set mirrored" sid="907275131970701" type="Heroi">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="967897513500291">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="899061477564578" type="Keyboard">
                                            <param id="0" name="Key">38</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="204056150891804" type="Heroi">
                                            <param id="0" name="Control">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="717173288617026">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="973027648728020" type="Keyboard">
                                            <param id="0" name="Key">40</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="966377701626470" type="Heroi">
                                            <param id="0" name="Control">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="955195400948665" title="Sombra">
                    <sub-events>
                        <event-block sid="912390595322796">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="288440767199969" type="Heroi">
                                    <param id="0" name="Instance variable">atacando</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="643337267822737" type="Heroi">
                                    <param id="0" name="Instance variable">sombra</param>
                                    <param id="1" name="Value">Heroi.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-block any="1" sid="691865502219822">
            <conditions>
                <condition id="-2" name="Compare Y" sid="911662521865468" type="Heroi">
                    <param id="0" name="Comparison">2</param>
                    <param id="1" name="Y co-ordinate">130</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Set Y" sid="949407577794585" type="Heroi">
                    <param id="0" name="Y">130</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="745586277585638">
            <conditions>
                <condition id="-2" name="Compare Y" sid="204055558445537" type="Heroi">
                    <param id="0" name="Comparison">4</param>
                    <param id="1" name="Y co-ordinate">175</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Set Y" sid="318546466607097" type="Heroi">
                    <param id="0" name="Y">175</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="840347528864973">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="431733729598844" type="lordFarier">
                    <param id="0" name="Object">Heroi</param>
                </condition>
                <condition id="-8" name="Compare two values" sid="533269472869916" type="System">
                    <param id="0" name="First value">left(lordFarier.AnimationName,6)</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Second value">&quot;Attack&quot;</param>
                </condition>
                <condition id="3" name="Compare frame" sid="680555806754565" type="lordFarier">
                    <param id="0" name="Comparison">0</param>
                    <param id="1" name="Number">ataquesInimigos.At(1,right(lordFarier.AnimationName,1),1)</param>
                </condition>
                <condition id="-4" name="Trigger once while true" sid="266790271455092" type="System" />
                <condition id="-21" name="Is between values" sid="282278492653665" type="System">
                    <param id="0" name="Value">lordFarier.Y</param>
                    <param id="1" name="Lower bound">Heroi.Y -3</param>
                    <param id="2" name="Upper bound">Heroi.Y + 3</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="672460894972454" type="Function">
                    <param id="0" name="Name">&quot;dano&quot;</param>
                    <param id="1" name="Parameter {n}">ataquesInimigos.At(1,right(lordFarier.AnimationName,1),2)</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="323981181705778">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="811440839819327" type="Heroi">
                    <param id="0" name="Instance variable">vida</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-16" name="Wait" sid="695937927684675" type="System">
                    <param id="0" name="Seconds">1.0</param>
                </action>
                <action id="-10" name="Set value" sid="904676442099330" type="Heroi">
                    <param id="0" name="Instance variable">estado</param>
                    <param id="1" name="Value">&quot;Dead&quot;</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
